{"version":3,"sources":["components/Statistics/MeanPriceInFilterLocation/MeanPriceInFilterLocation.module.css","App.module.css","pages/LocateBuilding/LocateBuilding.module.css","components/Navigation/Navigation.module.css","components/FilterToolbar/FilterToolbar.module.css","components/PropertyPriceChart/PropertyPriceChart.module.css","pages/Home/Home.module.css","components/Footer/Footer.module.css","components/Map/components/BuildingPolygons.module.css","containers/SplitPaneRight/SplitPaneRight.module.css","pages/Building/components/BuildingTable.module.css","apollo-client.js","components/Footer/index.js","components/Footer/Footer.jsx","components/SupportButton/index.js","components/SupportButton/SupportButton.jsx","components/Navigation/Navigation.jsx","components/Navigation/index.js","hooks/use-map-center.js","store/actionTypes.js","store/actions.js","hooks/api/use-region-buildings.js","store/selectors/map.js","store/selectors/neighborhood.js","store/selectors/router.js","components/Map/components/BuildingPolygons.jsx","components/Map/components/HighlightedPolygon.jsx","components/Map/Map.jsx","components/Map/index.js","containers/SplitPaneRight/SplitPaneRight.jsx","containers/SplitPaneRight/index.js","hooks/api/use-active-building.js","hooks/use-active-region-buildings.js","hooks/use-querystring-param.js","pages/Building/components/BuildingPriceBarChart.jsx","pages/Building/components/BuildingStats.jsx","pages/Building/components/BuildingTable.jsx","pages/Building/components/BuildingToolbar.jsx","pages/Building/components/Header.jsx","pages/Building/Building.jsx","pages/Building/index.js","bugsnag.js","components/FilterToolbar/FilterToolbar.jsx","components/FilterToolbar/index.js","hooks/api/use-property-price-chart-data.js","components/PropertyPriceChart/PropertyPriceChart.jsx","components/PropertyPriceChart/index.js","components/Statistics/MeanPriceInFilterLocation/MeanPriceInFilterLocation.jsx","hooks/api/use-property-price-mean-data.js","components/Statistics/MeanPriceInFilterLocation/index.js","components/Statistics/RentalYieldInFilterLocation/RentalYieldInFilterLocation.jsx","hooks/api/use-rental-yield.js","components/Statistics/RentalYieldInFilterLocation/index.js","pages/Home/index.js","pages/Home/Home.jsx","pages/LocateBuilding/components/Container.jsx","pages/LocateBuilding/LocateBuilding.jsx","App.jsx","store/reducers/map.js","store/reducers/neighborhood.js","store/reducers/index.js","store/sagas/go-home.js","store/sagas/map-center-on-neighborhood.js","store/sagas/set-active-building.js","store/sagas/set-map-center.js","store/sagas/update-map-bounds.js","store/sagas/index.js","store/index.js","serviceWorker.js","webpack:///./src/index.js?b635"],"names":["module","exports","debounceLink","DebounceLink","httpLink","HttpLink","uri","process","restLink","RestLink","authLink","setContext","_","headers","client","ApolloClient","cache","InMemoryCache","link","ApolloLink","from","version","packageJson","Footer","className","styles","container","List","bulleted","horizontal","Item","as","href","target","SupportButton","Button","color","content","icon","Navigation","Menu","secondary","Header","src","alt","height","position","Popup","inverted","trigger","rel","notificationLink","Icon","name","shake","fitted","primary","animated","onClick","window","location","Content","visible","hidden","INITIAL_CENTER","useMapCenter","useParams","lat","lng","zoom","useMemo","parseFloat","parseInt","CLICK_ON_BUILDING","RETURN_TO_HOME_CLICKED","MAP_BOUNDS_CHANGED","MAP_PROJECTION_CHANGED","SET_SELECTED_NEIGHBORHOOD","SET_NEIGHBORHOOD_FILTERS","clickOnBuilding","payload","type","returnToHomeClicked","mapProjectionChanged","setNeighborhoodFilters","GET_BUILDINGS_AND_PROPERTIES","gql","useRegionBuildings","region","useQuery","variables","filter","category","in","price","gt","context","debounceKey","loading","data","bounds","buildings","selectMap","state","map","mapRegionSelector","createSelector","ne","join","nw","sw","se","convertBoundsToRegionString","selectNeighborhood","neighborhood","highlightedRegionMap","riga","features","reduce","carry","row","properties","id","geometry","coordinates","selectedNeighborhoodSelector","selected","neighborhoodFilterSelector","filters","locationSelector","router","locationPathnameSelector","pathname","locationSearchSelector","search","locationQuerySelector","query","querystringParamSelector","segment","Polygons","props","dispatch","useDispatch","disableInteraction","useLocation","endsWith","buildingId","Dimmer","active","Segment","circular","loadingIndicator","Loader","results","length","building","actions","onBuildingClick","paths","split","options","toString","strokeColor","fillColor","BuildingPolygons","useSelector","React","memo","polygon","fillOpacity","containerStyle","width","Map","center","useState","setMap","useLoadScript","googleMapsApiKey","isLoaded","loadError","onBoundsChanged","useCallback","onProjectionChanged","zoomControlOptions","google","maps","ControlPosition","RIGHT_TOP","rotateControl","scaleControl","streetViewControl","panControl","fullscreenControl","mapContainerStyle","onLoad","onDragEnd","onZoomChanged","renderMap","SplitPaneRight","GET_SINGLE_BUILDING","useActiveRegionBuildings","useQuerystringParam","key","extraQuerystringOverwrite","value","updateFilterValue","newValue","replace","queryString","stringify","skipEmptyString","BuildingPriceBarChart","error","group","priceCurrentBuilding","priceActiveRegion","margin","top","right","bottom","left","indexBy","padding","keys","isInteractive","motionStiffness","motionDamping","axisLeft","format","labelFormat","calcAvg","nums","num","BuildingStats","min","total","Math","prices","sqm","avg","round","regionAvg","regionPrices","max","Grid","textAlign","Row","columns","divided","Column","Statistic","size","Label","Value","toLocaleString","style","RENT_TYPE_SUFFIX","yearly","monthly","weekly","daily","hourly","accessor","Cell","original","rent_type","moment","getCellTextAlign","cell","includes","column","BuildingTable","rentType","undefined","useQuerystringFilters","page","setPage","usePageSize","pageIndex","updatePageIndex","useTable","initialState","sortBy","desc","pageSize","hiddenColumns","autoResetFilters","useFilters","useSortBy","usePagination","setFilter","headerGroups","rows","prepareRow","pageCount","gotoPage","filteredClassifieds","classified","calc_price_per_sqm","useActiveRegionBuildingPrices","useEffect","forEach","hasResults","stats","Table","singleLine","sortable","headerGroup","getHeaderGroupProps","HeaderCell","getHeaderProps","getSortByToggleProps","sorted","isSorted","isSortedDesc","render","Body","getRowProps","cells","getCellProps","colSpan","Pagination","activePage","boundaryRange","onPageChange","event","siblingRange","totalPages","categoryOptions","text","typeOptions","rentTypeOptions","resetPage","BuildingToolbar","setCategory","setType","setRentType","Dropdown","placeholder","clearable","selection","onChange","fluid","onReturnClick","labelPosition","Message","info","Number","useActiveBuilding","activeBuilding","basic","count","negative","warning","Building","Bugsnag","start","releaseStage","enabledReleaseStages","apiKey","plugins","BugsnagPluginReact","collectUserIp","locationOptions","priceTypeOptions","FilterToolbar","all","regexp","RegExp","transliterate","test","categoryDropdown","usePriceData","filterOverrides","pollInterval","setPollInterval","location_classificator","filterStr","encodeURIComponent","JSON","response","loadingResults","PropertyPriceChart","priceType","pricePerSqm","x","start_datetime","substr","y","mean","maxPrice","Price","minimumFractionDigits","xScale","precision","xFormat","yScale","stacked","sliceTooltip","slice","tooltip","points","point","serieId","yFormatted","mode","median","axisBottom","tickValues","tickRotation","enablePoints","curve","useMesh","enableSlices","layers","AreaLayer","PropertyPriceChartContainer","series","areaGenerator","innerHeight","area","d","y0","y1","curveMonotoneX","defs","background","lineWidth","spacing","rotation","fill","stroke","strokeWidth","Description","MeanPriceInFilterLocation","change","mom","yoy","momChange","yoyChange","statisticAddon","isFinite","textGreen","textRed","toFixed","MeanPriceInFilterLocationContainer","Suspense","fallback","RentalYieldInFilterLocation","rentData","sellData","rentMean","sellMean","useRentalYield","RentalYieldInFilterLocationContainer","Home","locationName","find","highlightedText","tablet","computer","largeScreen","widescreen","onError","notify","Group","verticalAlign","stretched","header","ContentContainer","Container","lottie","children","LocateBuilding","loadingAnimation","animationData","loadingAnimationData","BuildingsLoaded","locatedBuilding","currentPosition","minDistance","Infinity","distance","geolib","parts","latitude","longitude","locateActiveBuilding","successAnimation","successAnimationData","loop","notFoundAnimation","notFoundAnimationData","App","githubCorner","direction","path","grid","leftPanel","rightPanel","mapReducer","action","getBounds","getSouthWest","getNorthEast","neighborhoodReducer","createRootReducer","history","combineReducers","connectRouter","goHome","saga","select","put","push","takeLatest","setHighlightedRegion","getCenterCoords","arr","coords","takeEvery","setActiveBuilding","url","String","qs","setMapCenter","getZoom","currentPath","newPath","updateMapBounds","rootSaga","mapCenterOnNeighborhood","createHashHistory","hashType","sagaMiddleware","createSagaMiddleware","createStore","composeWithDevTools","applyMiddleware","routerMiddleware","run","Boolean","hostname","match","ErrorBoundary","getPlugin","createErrorBoundary","ReactDOM","store","ApolloProvider","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","console","message"],"mappings":"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","file":"static/js/main.b28e1417.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"statisticAddon\":\"MeanPriceInFilterLocation_statisticAddon__ZZijL\",\"textGreen\":\"MeanPriceInFilterLocation_textGreen__1TxZ3\",\"textRed\":\"MeanPriceInFilterLocation_textRed__2oGI9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__1MQN3\",\"grid\":\"App_grid__3DnSg\",\"leftPanel\":\"App_leftPanel__3Hl9k\",\"rightPanel\":\"App_rightPanel__kN-EW\",\"githubCorner\":\"App_githubCorner__3BLKB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingAnimation\":\"LocateBuilding_loadingAnimation__2AnXv\",\"notFoundAnimation\":\"LocateBuilding_notFoundAnimation__1ovDQ\",\"successAnimation\":\"LocateBuilding_successAnimation__1hX74\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"shake\":\"Navigation_shake__1loJY\",\"bell-shake\":\"Navigation_bell-shake__28FvC\",\"notificationLink\":\"Navigation_notificationLink__dwBb-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"FilterToolbar_container__3xqZF\",\"categoryDropdown\":\"FilterToolbar_categoryDropdown__2VBih\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"PropertyPriceChart_container__b6m2Q\",\"tooltip\":\"PropertyPriceChart_tooltip__iGhsd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"Home_content__sgIvw\",\"highlightedText\":\"Home_highlightedText__3zLCN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Footer_container__st7Zp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loadingIndicator\":\"BuildingPolygons_loadingIndicator__12R8e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SplitPaneRight_container__x3kzx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stats\":\"BuildingTable_stats__3-b6T\"};","import {\n  ApolloClient,\n  ApolloLink,\n  HttpLink,\n  InMemoryCache,\n} from '@apollo/client';\nimport { setContext } from '@apollo/client/link/context';\nimport DebounceLink from 'apollo-link-debounce';\nimport { RestLink } from 'apollo-link-rest';\nimport packageJson from '../package.json';\n\nconst debounceLink = new DebounceLink(3000);\nconst httpLink = new HttpLink({\n  uri: process.env.REACT_APP_API_ENDPOINT,\n});\nconst restLink = new RestLink({\n  uri: process.env.REACT_APP_STATIC_API_ENDPOINT,\n});\n\nconst authLink = setContext((_, { headers }) => ({\n  headers: {\n    ...headers,\n    'x-api-key': process.env.REACT_APP_BROKALYS_API_KEY,\n  },\n}));\n\nconst client = new ApolloClient({\n  cache: new InMemoryCache(),\n  link: ApolloLink.from([debounceLink, restLink, authLink, httpLink]),\n  version: packageJson.version,\n});\n\nexport default client;\n","import Footer from './Footer';\n\nexport default Footer;\n","import { List } from 'semantic-ui-react';\nimport styles from './Footer.module.css';\n\nexport default function Footer() {\n  return (\n    <div className={styles.container}>\n      <List bulleted horizontal link>\n        <List.Item\n          as=\"a\"\n          href=\"https://pinger.brokalys.com/#/terms-and-conditions\"\n          target=\"_blank\"\n        >\n          Terms & Conditions\n        </List.Item>\n        <List.Item\n          as=\"a\"\n          href=\"https://pinger.brokalys.com/#/privacy-policy\"\n          target=\"_blank\"\n        >\n          Privacy Policy\n        </List.Item>\n      </List>\n    </div>\n  );\n}\n","import SupportButton from './SupportButton';\n\nexport default SupportButton;\n","import { Button } from 'semantic-ui-react';\n\nexport default function SupportButton() {\n  return (\n    <Button\n      color=\"red\"\n      content=\"Support the project\"\n      icon=\"heart\"\n      href=\"https://www.buymeacoffee.com/matissjanis\"\n      target=\"_blank\"\n    />\n  );\n}\n","import React from 'react';\nimport { Button, Icon, Menu, Popup } from 'semantic-ui-react';\nimport SupportButton from 'components/SupportButton';\nimport styles from './Navigation.module.css';\n\nfunction Navigation() {\n  function onFeedbackClick() {\n    window.location.href = 'mailto:matiss@brokalys.com?subject=Feedback';\n  }\n\n  return (\n    <Menu secondary>\n      <Menu.Header>\n        <img src=\"https://brokalys.com/favicon.png\" alt=\"logo\" height=\"40px\" />\n      </Menu.Header>\n\n      <Menu.Item position=\"right\">\n        <Popup\n          content=\"Sign up for instant notifications about classifieds matching your parameters\"\n          inverted\n          position=\"bottom right\"\n          trigger={\n            <a\n              href=\"https://pinger.brokalys.com\"\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className={styles.notificationLink}\n              data-testid=\"pinger-button\"\n            >\n              <Icon name=\"bell outline\" className={styles.shake} />\n            </a>\n          }\n        />\n      </Menu.Item>\n\n      {/*<Menu.Item fitted>\n        <Button basic animated=\"vertical\">\n          <Button.Content visible>Compare</Button.Content>\n          <Button.Content hidden>\n            <Icon name=\"crosshairs\" />\n          </Button.Content>\n        </Button>\n      </Menu.Item>*/}\n\n      <Menu.Item fitted>\n        <Button primary animated=\"vertical\" onClick={onFeedbackClick}>\n          <Button.Content visible>Give feedback</Button.Content>\n          <Button.Content hidden>\n            <Icon name=\"mail\" />\n          </Button.Content>\n        </Button>\n      </Menu.Item>\n      <Menu.Item fitted>\n        <SupportButton />\n      </Menu.Item>\n    </Menu>\n  );\n}\n\nexport default Navigation;\n","import Navigation from './Navigation';\n\nexport default Navigation;\n","import { useMemo } from 'react';\nimport { useParams } from 'react-router-dom';\n\nconst INITIAL_CENTER = {\n  lat: 56.94734440635773,\n  lng: 24.105604143682786,\n  zoom: 13,\n};\n\nexport default function useMapCenter() {\n  const {\n    lat = INITIAL_CENTER.lat,\n    lng = INITIAL_CENTER.lng,\n    zoom = INITIAL_CENTER.zoom,\n  } = useParams();\n\n  const data = useMemo(\n    () => ({\n      lat: parseFloat(lat),\n      lng: parseFloat(lng),\n      zoom: parseInt(zoom, 10),\n    }),\n    [lat, lng, zoom],\n  );\n\n  return data;\n}\n","// Building\nexport const CLICK_ON_BUILDING = 'CLICK_ON_BUILDING';\nexport const RETURN_TO_HOME_CLICKED = 'RETURN_TO_HOME_CLICKED';\n\n// Map\nexport const MAP_BOUNDS_CHANGED = 'MAP_BOUNDS_CHANGED';\nexport const MAP_PROJECTION_CHANGED = 'MAP_PROJECTION_CHANGED';\n\n// Neighborhood\nexport const SET_SELECTED_NEIGHBORHOOD = 'SET_SELECTED_NEIGHBORHOOD';\nexport const SET_NEIGHBORHOOD_FILTERS = 'SET_NEIGHBORHOOD_FILTERS';\n","import {\n  CLICK_ON_BUILDING,\n  MAP_BOUNDS_CHANGED,\n  MAP_PROJECTION_CHANGED,\n  SET_NEIGHBORHOOD_FILTERS,\n  SET_SELECTED_NEIGHBORHOOD,\n  RETURN_TO_HOME_CLICKED,\n} from './actionTypes';\n\nexport const clickOnBuilding = (payload) => ({\n  type: CLICK_ON_BUILDING,\n  payload,\n});\n\nexport const returnToHomeClicked = () => ({\n  type: RETURN_TO_HOME_CLICKED,\n});\n\nexport const mapBoundsChanged = (payload) => ({\n  type: MAP_BOUNDS_CHANGED,\n  payload,\n});\n\nexport const mapProjectionChanged = (payload) => ({\n  type: MAP_PROJECTION_CHANGED,\n  payload,\n});\n\nexport const setNeighborhoodFilters = (payload) => ({\n  type: SET_NEIGHBORHOOD_FILTERS,\n  payload,\n});\n\nexport const setSelectedNeighborhood = (payload) => ({\n  type: SET_SELECTED_NEIGHBORHOOD,\n  payload,\n});\n","import { gql, useQuery } from '@apollo/client';\n\nconst GET_BUILDINGS_AND_PROPERTIES = gql`\n  query UseRegionBuildings($region: String!, $filter: PropertyFilter) {\n    bounds(bounds: $region) {\n      buildings {\n        id\n        bounds\n        properties(filter: $filter) {\n          results {\n            category\n            type\n            rent_type\n            price\n            calc_price_per_sqm\n            rooms\n            area\n            floor\n            published_at\n          }\n        }\n      }\n    }\n  }\n`;\n\nexport default function useRegionBuildings(region) {\n  const { loading, data } = useQuery(GET_BUILDINGS_AND_PROPERTIES, {\n    variables: {\n      region,\n      filter: {\n        category: {\n          in: ['apartment', 'house', 'office'],\n        },\n        type: {\n          in: ['sell', 'rent', 'auction'],\n        },\n        price: {\n          gt: 1,\n        },\n      },\n    },\n    context: {\n      debounceKey: 'GET_BUILDINGS_AND_PROPERTIES',\n    },\n  });\n  return {\n    loading,\n    data: data?.bounds?.buildings || [],\n  };\n}\n","import { createSelector } from 'reselect';\n\nconst selectMap = (state) => state.map;\n\nfunction convertBoundsToRegionString(bounds) {\n  if (!bounds.ne) return;\n\n  const parts = [\n    [bounds.ne.lat, bounds.ne.lng].join(' '),\n    [bounds.nw.lat, bounds.nw.lng].join(' '),\n    [bounds.sw.lat, bounds.sw.lng].join(' '),\n    [bounds.se.lat, bounds.se.lng].join(' '),\n    [bounds.ne.lat, bounds.ne.lng].join(' '),\n  ];\n  return parts.join(', ');\n}\n\nexport const mapRegionSelector = createSelector(selectMap, (state) =>\n  convertBoundsToRegionString(state.bounds),\n);\n\nexport const mapBoundsSelector = createSelector(\n  selectMap,\n  (state) => state.bounds,\n);\n","import { riga } from '@brokalys/location-json-schemas';\nimport { createSelector } from 'reselect';\n\nconst selectNeighborhood = (state) => state.neighborhood;\n\nconst highlightedRegionMap = riga.features.reduce(\n  (carry, row) => ({ ...carry, [row.properties.id]: row.geometry.coordinates }),\n  {},\n);\n\nexport const selectedNeighborhoodSelector = createSelector(\n  selectNeighborhood,\n  (state) => ({\n    id: state.selected,\n    region: highlightedRegionMap[state.selected],\n  }),\n);\n\nexport const neighborhoodFilterSelector = createSelector(\n  selectNeighborhood,\n  (state) => state.filters,\n);\n","import { createSelector } from 'reselect';\n\nconst selectRouter = (state) => state.router;\n\nexport const locationSelector = createSelector(\n  selectRouter,\n  (state) => state.location,\n);\n\nexport const locationPathnameSelector = createSelector(\n  locationSelector,\n  (location) => location.pathname,\n);\n\nexport const locationSearchSelector = createSelector(\n  locationSelector,\n  (location) => location.search,\n);\n\nexport const locationQuerySelector = createSelector(\n  locationSelector,\n  (location) => location.query,\n);\n\nexport const querystringParamSelector = (segment) =>\n  createSelector(locationQuerySelector, (query) => query[segment]);\n","import { Polygon } from '@react-google-maps/api';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLocation, useParams } from 'react-router-dom';\nimport { Dimmer, Loader, Segment } from 'semantic-ui-react';\nimport useRegionBuildings from 'hooks/api/use-region-buildings';\nimport * as actions from 'store/actions';\nimport { mapRegionSelector } from 'store/selectors';\nimport styles from './BuildingPolygons.module.css';\n\nfunction Polygons(props) {\n  const dispatch = useDispatch();\n  const location = useLocation();\n  const disableInteraction = location.pathname.endsWith('/locate-building');\n  const { buildingId } = useParams();\n  const { loading, data: buildings } = useRegionBuildings(props.region);\n\n  const onBuildingClick = (building) => {\n    dispatch(actions.clickOnBuilding(building.id));\n  };\n\n  if (disableInteraction) {\n    return <Dimmer active />;\n  }\n\n  if (loading) {\n    return (\n      <Segment circular className={styles.loadingIndicator}>\n        <Dimmer active>\n          <Loader />\n        </Dimmer>\n      </Segment>\n    );\n  }\n\n  return buildings\n    .filter(({ properties }) => properties.results.length > 0)\n    .map((building) => (\n      <Polygon\n        key={building.id}\n        onClick={() => onBuildingClick(building)}\n        paths={building.bounds.split(', ').map((row) => {\n          const [lat, lng] = row.split(' ');\n          return { lat: parseFloat(lat), lng: parseFloat(lng) };\n        })}\n        options={\n          buildingId && buildingId === building.id.toString()\n            ? { strokeColor: 'green', fillColor: 'green' }\n            : { strokeColor: 'black', fillColor: 'black' }\n        }\n      />\n    ));\n}\n\nfunction BuildingPolygons() {\n  const region = useSelector(mapRegionSelector);\n\n  if (!region) {\n    return null;\n  }\n\n  // @todo: error handling\n  return <Polygons region={region} />;\n}\n\nexport default React.memo(BuildingPolygons);\n","import { Polygon } from '@react-google-maps/api';\nimport { useSelector } from 'react-redux';\nimport { selectedNeighborhoodSelector } from 'store/selectors';\n\nexport default function BuildingPolygons() {\n  const { region } = useSelector(selectedNeighborhoodSelector);\n\n  return (\n    <Polygon\n      paths={region.map((polygon) =>\n        polygon.map(([lng, lat]) => ({ lng, lat })),\n      )}\n      options={{ strokeColor: 'black', fillColor: 'black', fillOpacity: 0.2 }}\n    />\n  );\n}\n","import React, { useCallback, useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { GoogleMap, useLoadScript } from '@react-google-maps/api';\nimport useMapCenter from 'hooks/use-map-center';\nimport * as actions from 'store/actions';\nimport BuildingPolygons from './components/BuildingPolygons';\nimport HighlightedPolygon from './components/HighlightedPolygon';\n\nconst containerStyle = {\n  width: '100%',\n  height: '100%',\n};\n\nexport const MIN_ZOOM_FOR_BUILDINGS = 17;\nexport const MIN_ZOOM_FOR_HIGHLIGHTED_REGION = 12;\nexport const MAX_ZOOM_FOR_HIGHLIGHTED_REGION = 14;\n\nfunction Map(props) {\n  const center = useMapCenter();\n  const [map, setMap] = useState(null);\n\n  const { isLoaded, loadError } = useLoadScript({\n    googleMapsApiKey: process.env.REACT_APP_GOOGLE_MAPS_KEY,\n  });\n\n  const dispatch = useDispatch();\n  const onBoundsChanged = useCallback(() => {\n    if (!map) return;\n    dispatch(actions.mapBoundsChanged(map));\n  }, [dispatch, map]);\n  const onProjectionChanged = useCallback(\n    () => dispatch(actions.mapProjectionChanged(map)),\n    [dispatch, map],\n  );\n\n  const renderMap = () => {\n    const options = {\n      zoomControlOptions: {\n        position: window.google.maps.ControlPosition.RIGHT_TOP,\n      },\n      rotateControl: false,\n      scaleControl: false,\n      streetViewControl: false,\n      panControl: false,\n      fullscreenControl: false,\n    };\n\n    return (\n      <GoogleMap\n        options={options}\n        mapContainerStyle={containerStyle}\n        center={center}\n        zoom={center.zoom}\n        onLoad={setMap}\n        onProjectionChanged={onProjectionChanged}\n        onDragEnd={onBoundsChanged}\n        onZoomChanged={onBoundsChanged}\n      >\n        {center.zoom <= MAX_ZOOM_FOR_HIGHLIGHTED_REGION &&\n          center.zoom >= MIN_ZOOM_FOR_HIGHLIGHTED_REGION && (\n            <HighlightedPolygon />\n          )}\n        {center.zoom >= MIN_ZOOM_FOR_BUILDINGS && <BuildingPolygons />}\n      </GoogleMap>\n    );\n  };\n\n  if (loadError) {\n    return <div>Failed loading the map. Please try again later.</div>;\n  }\n\n  return isLoaded ? renderMap() : <div>Loading...</div>;\n}\n\nexport default React.memo(Map);\n","import Map from './Map';\n\nexport default Map;\n","import Map from 'components/Map';\nimport styles from './SplitPaneRight.module.css';\n\nfunction SplitPaneRight() {\n  return (\n    <div className={styles.container}>\n      <Map />\n    </div>\n  );\n}\n\nexport default SplitPaneRight;\n","import SplitPaneRight from './SplitPaneRight';\n\nexport default SplitPaneRight;\n","import { gql, useQuery } from '@apollo/client';\nimport { useParams } from 'react-router-dom';\n\nconst GET_SINGLE_BUILDING = gql`\n  query UseActiveBuilding($id: Int!, $filter: PropertyFilter) {\n    building(id: $id) {\n      id\n      bounds\n      properties(filter: $filter) {\n        results {\n          category\n          type\n          rent_type\n          price\n          calc_price_per_sqm\n          rooms\n          area\n          floor\n          published_at\n        }\n      }\n    }\n  }\n`;\n\nexport default function useActiveBuilding() {\n  const { buildingId } = useParams();\n  const { data, error, loading } = useQuery(GET_SINGLE_BUILDING, {\n    variables: {\n      id: Number(buildingId),\n      filter: {\n        category: {\n          in: ['apartment', 'house', 'office'],\n        },\n        type: {\n          in: ['sell', 'rent', 'auction'],\n        },\n        price: {\n          gt: 1,\n        },\n      },\n    },\n  });\n  return { data: data?.building || {}, error, loading };\n}\n","import { useSelector } from 'react-redux';\nimport useRegionBuildings from 'hooks/api/use-region-buildings';\nimport { mapRegionSelector } from 'store/selectors';\n\nexport default function useActiveRegionBuildings() {\n  const region = useSelector(mapRegionSelector);\n  return useRegionBuildings(region);\n}\n","import { replace } from 'connected-react-router';\nimport queryString from 'query-string';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  querystringParamSelector,\n  locationQuerySelector,\n} from 'store/selectors';\n\nexport default function useQuerystringParam(\n  key,\n  extraQuerystringOverwrite = {},\n) {\n  const dispatch = useDispatch();\n  const value = useSelector(querystringParamSelector(key));\n  const query = useSelector(locationQuerySelector);\n\n  function updateFilterValue(newValue) {\n    dispatch(\n      replace(\n        `?${queryString.stringify(\n          { ...query, ...extraQuerystringOverwrite, [key]: newValue },\n          { skipEmptyString: true },\n        )}`,\n      ),\n    );\n  }\n\n  return [value, updateFilterValue];\n}\n","import { ResponsiveBar } from '@nivo/bar';\nimport PropType from 'prop-types';\nimport Skeleton from 'react-loading-skeleton';\n\nexport default function BuildingPriceBarChart(props) {\n  if (props.error) {\n    return null;\n  }\n\n  if (props.loading) {\n    return <Skeleton height=\"100%\" width=\"100%\" />;\n  }\n\n  const data = [\n    { group: 'Current building', value: props.priceCurrentBuilding || 0 },\n    { group: 'Active region', value: props.priceActiveRegion },\n  ];\n\n  return (\n    <ResponsiveBar\n      data={data}\n      margin={{ top: 10, right: 40, bottom: 30, left: 70 }}\n      indexBy=\"group\"\n      padding={0.5}\n      keys={['value']}\n      isInteractive={false}\n      motionStiffness={300}\n      motionDamping={40}\n      axisLeft={{\n        format: props.labelFormat,\n      }}\n      labelFormat={props.labelFormat}\n    />\n  );\n}\n\nBuildingPriceBarChart.propTypes = {\n  error: PropType.object,\n  loading: PropType.bool.isRequired,\n  priceCurrentBuilding: PropType.number.isRequired,\n  priceActiveRegion: PropType.number.isRequired,\n  labelFormat: PropType.func.isRequired,\n};\n","import PropType from 'prop-types';\nimport { Grid, Statistic } from 'semantic-ui-react';\nimport useMapCenter from 'hooks/use-map-center';\nimport BuildingPriceBarChart from './BuildingPriceBarChart';\n\nfunction calcAvg(nums) {\n  if (nums.length === 0) return 0;\n  return nums.reduce((carry, num) => carry + num, 0) / nums.length;\n}\n\nexport default function BuildingStats(props) {\n  const { zoom } = useMapCenter();\n  const min = {\n    total: Math.min(...props.prices.total),\n    sqm: Math.min(...props.prices.sqm),\n  };\n  const avg = {\n    total: Math.round(calcAvg(props.prices.total)),\n    sqm: Math.round(calcAvg(props.prices.sqm)),\n  };\n  const regionAvg = {\n    total: Math.round(calcAvg(props.regionPrices.data.total)),\n    sqm: Math.round(calcAvg(props.regionPrices.data.sqm)),\n  };\n  const max = {\n    total: Math.max(...props.prices.total),\n    sqm: Math.max(...props.prices.sqm),\n  };\n\n  return (\n    <Grid textAlign=\"center\">\n      <Grid.Row columns={3} divided>\n        <Grid.Column>\n          <Statistic size=\"small\">\n            <Statistic.Label>Min</Statistic.Label>\n            <Statistic.Value>\n              {min.total.toLocaleString()}\n              <small>€</small>\n            </Statistic.Value>\n            <Statistic.Label>\n              ({min.sqm.toLocaleString()}{' '}\n              <small>\n                €/m<sup>2</sup>\n              </small>\n              )\n            </Statistic.Label>\n          </Statistic>\n        </Grid.Column>\n\n        <Grid.Column>\n          <Statistic size=\"small\">\n            <Statistic.Label>Average</Statistic.Label>\n            <Statistic.Value>\n              {avg.total.toLocaleString()}\n              <small>€</small>\n            </Statistic.Value>\n            <Statistic.Label>\n              ({avg.sqm.toLocaleString()}{' '}\n              <small>\n                €/m<sup>2</sup>\n              </small>\n              )\n            </Statistic.Label>\n          </Statistic>\n        </Grid.Column>\n\n        <Grid.Column>\n          <Statistic size=\"small\">\n            <Statistic.Label>Max</Statistic.Label>\n            <Statistic.Value>\n              {max.total.toLocaleString()}\n              <small>€</small>\n            </Statistic.Value>\n            <Statistic.Label>\n              ({max.sqm.toLocaleString()}{' '}\n              <small>\n                €/m<sup>2</sup>\n              </small>\n              )\n            </Statistic.Label>\n          </Statistic>\n        </Grid.Column>\n      </Grid.Row>\n\n      {zoom >= 17 ? (\n        <>\n          {!props.regionPrices.error && (\n            <div>\n              <h3>Average price comparison with active region</h3>\n            </div>\n          )}\n\n          <Grid.Row columns={2} divided>\n            <Grid.Column style={{ height: 200 }}>\n              <BuildingPriceBarChart\n                loading={props.regionPrices.loading}\n                error={props.regionPrices.error}\n                priceCurrentBuilding={avg.total}\n                priceActiveRegion={regionAvg.total}\n                labelFormat={(value) =>\n                  `${value > 0 ? value.toLocaleString() : '?'} €`\n                }\n              />\n            </Grid.Column>\n            <Grid.Column style={{ height: 200 }}>\n              <BuildingPriceBarChart\n                loading={props.regionPrices.loading}\n                error={props.regionPrices.error}\n                priceCurrentBuilding={avg.sqm}\n                priceActiveRegion={regionAvg.sqm}\n                labelFormat={(value) =>\n                  `${value > 0 ? value.toLocaleString() : '?'} €/m2`\n                }\n              />\n            </Grid.Column>\n          </Grid.Row>\n        </>\n      ) : null}\n    </Grid>\n  );\n}\n\nconst priceObject = PropType.shape({\n  total: PropType.arrayOf(PropType.number).isRequired,\n  sqm: PropType.arrayOf(PropType.number).isRequired,\n}).isRequired;\n\nBuildingStats.propTypes = {\n  prices: priceObject,\n  regionPrices: PropType.shape({\n    loading: PropType.bool.isRequired,\n    error: PropType.object,\n    data: priceObject,\n  }).isRequired,\n};\n","import { useEffect, useMemo } from 'react';\nimport { useFilters, usePagination, useTable, useSortBy } from 'react-table';\nimport { Pagination, Table } from 'semantic-ui-react';\nimport moment from 'moment';\nimport useActiveRegionBuildings from 'hooks/use-active-region-buildings';\nimport useQuerystringParam from 'hooks/use-querystring-param';\nimport BuildingStats from './BuildingStats';\nimport styles from './BuildingTable.module.css';\n\nconst RENT_TYPE_SUFFIX = {\n  yearly: '/y',\n  monthly: '/m',\n  weekly: '/w',\n  daily: '/d',\n  hourly: '/h',\n};\n\nconst columns = [\n  {\n    Header: 'Category',\n    accessor: 'category',\n    filter: 'equals',\n  },\n  {\n    Header: 'Type',\n    accessor: 'type',\n    filter: 'equals',\n  },\n  {\n    accessor: 'rent_type',\n    filter: 'equals',\n  },\n  {\n    Header: 'Total price',\n    Cell: ({ row: { original } }) => (\n      <>\n        {original.price.toLocaleString()} €\n        {original.type === 'rent' && RENT_TYPE_SUFFIX[original.rent_type]}\n      </>\n    ),\n    accessor: 'price',\n  },\n  {\n    Header: 'SQM Price',\n    Cell: ({ value }) => {\n      if (!value) {\n        return null;\n      }\n\n      return (\n        <>\n          {Math.round(value).toLocaleString()} €/m\n          <sup>2</sup>\n        </>\n      );\n    },\n    accessor: 'calc_price_per_sqm',\n  },\n  {\n    Header: 'Area',\n    Cell: ({ value }) => {\n      if (!value) {\n        return null;\n      }\n\n      return (\n        <>\n          {value.toLocaleString()} m<sup>2</sup>\n        </>\n      );\n    },\n    accessor: 'area',\n  },\n  {\n    Header: 'Rooms',\n    accessor: 'rooms',\n  },\n  {\n    Header: 'Published at',\n    Cell: ({ value }) =>\n      value ? moment(value).format('YYYY-MM-DD HH:mm') : 'Before 2018',\n    accessor: 'published_at',\n  },\n];\n\nfunction getCellTextAlign(cell) {\n  if (['category', 'type'].includes(cell.column.id)) {\n    return 'left';\n  }\n\n  return 'right';\n}\n\nfunction usePageSize() {\n  const [page, setPage] = useQuerystringParam('page');\n  return [parseInt(page || 1, 10) - 1, setPage];\n}\n\nfunction useActiveRegionBuildingPrices(filters) {\n  const { loading, error, data } = useActiveRegionBuildings();\n  const classifieds = data.reduce(\n    (carry, { properties }) => [...carry, ...properties.results],\n    [],\n  );\n  const filteredClassifieds = classifieds.filter((classified) =>\n    filters\n      .filter(({ value }) => !!value)\n      .reduce(\n        (carry, { id, value }) => carry && classified[id] === value,\n        true,\n      ),\n  );\n\n  const regionPrices = {\n    total: filteredClassifieds.reduce(\n      (carry, { price }) => [...carry, price],\n      [],\n    ),\n    sqm: filteredClassifieds.reduce(\n      (carry, { calc_price_per_sqm: price }) => [...carry, price],\n      [],\n    ),\n  };\n\n  return {\n    loading,\n    error,\n    data: regionPrices,\n  };\n}\n\nfunction useQuerystringFilters() {\n  const [category] = useQuerystringParam('category');\n  const [type] = useQuerystringParam('type');\n  const [rentType] = useQuerystringParam('rent_type');\n\n  return useMemo(\n    () => [\n      { id: 'category', value: category },\n      { id: 'type', value: type },\n      { id: 'rent_type', value: type === 'rent' ? rentType : undefined },\n    ],\n    [category, type, rentType],\n  );\n}\n\nexport default function BuildingTable(props) {\n  const filters = useQuerystringFilters();\n  const [pageIndex, updatePageIndex] = usePageSize();\n  const {\n    setFilter,\n    headerGroups,\n    rows,\n    page,\n    prepareRow,\n\n    // Pagination\n    pageCount,\n    gotoPage,\n  } = useTable(\n    {\n      columns,\n      data: props.building.properties.results,\n      initialState: {\n        sortBy: [\n          {\n            id: 'published_at',\n            desc: true,\n          },\n        ],\n        pageSize: 15,\n        pageIndex,\n        hiddenColumns: ['rent_type'],\n        filters,\n      },\n      autoResetFilters: false,\n    },\n    useFilters,\n    useSortBy,\n    usePagination,\n  );\n  const regionPrices = useActiveRegionBuildingPrices(filters);\n\n  useEffect(() => {\n    gotoPage(pageIndex);\n  }, [gotoPage, pageIndex]);\n\n  useEffect(() => {\n    filters.forEach(({ id, value }) => setFilter(id, value));\n  }, [filters, setFilter]);\n\n  const prices = useMemo(\n    () => ({\n      total: rows\n        .map(({ original }) => original.price)\n        .filter((price) => price > 0),\n      sqm: rows\n        .map(({ original }) => original.calc_price_per_sqm)\n        .filter((price) => price > 0),\n    }),\n    [rows],\n  );\n\n  const hasResults = page.length > 0;\n\n  return (\n    <>\n      {hasResults && (\n        <div className={styles.stats}>\n          <BuildingStats prices={prices} regionPrices={regionPrices} />\n        </div>\n      )}\n      <Table singleLine={hasResults} sortable>\n        <Table.Header>\n          {headerGroups.map((headerGroup) => (\n            <Table.Row\n              textAlign=\"center\"\n              {...headerGroup.getHeaderGroupProps()}\n            >\n              {headerGroup.headers.map((column) => (\n                <Table.HeaderCell\n                  {...column.getHeaderProps(column.getSortByToggleProps())}\n                  sorted={\n                    column.isSorted\n                      ? column.isSortedDesc\n                        ? 'descending'\n                        : 'ascending'\n                      : null\n                  }\n                >\n                  {column.render('Header')}\n                </Table.HeaderCell>\n              ))}\n            </Table.Row>\n          ))}\n        </Table.Header>\n\n        <Table.Body>\n          {page.map((row) => {\n            prepareRow(row);\n            return (\n              <Table.Row {...row.getRowProps()}>\n                {row.cells.map((cell) => (\n                  <Table.Cell\n                    textAlign={getCellTextAlign(cell)}\n                    {...cell.getCellProps()}\n                  >\n                    {cell.render('Cell')}\n                  </Table.Cell>\n                ))}\n              </Table.Row>\n            );\n          })}\n          {!hasResults && (\n            <Table.Row>\n              <Table.Cell colSpan={columns.length} textAlign=\"center\">\n                <p>\n                  <strong>\n                    No classifieds could be found with the given filters.\n                  </strong>{' '}\n                  Clear the filters or open a different property to see data.\n                </p>\n              </Table.Cell>\n            </Table.Row>\n          )}\n        </Table.Body>\n\n        {pageCount > 1 && (\n          <Table.Footer>\n            <Table.Row>\n              <Table.HeaderCell colSpan={columns.length}>\n                <Pagination\n                  activePage={pageIndex + 1}\n                  boundaryRange={1}\n                  onPageChange={(event, data) =>\n                    updatePageIndex(data.activePage)\n                  }\n                  size=\"mini\"\n                  siblingRange={2}\n                  totalPages={pageCount}\n                />\n              </Table.HeaderCell>\n            </Table.Row>\n          </Table.Footer>\n        )}\n      </Table>\n    </>\n  );\n}\n","import { Dropdown, Menu } from 'semantic-ui-react';\nimport useQuerystringParam from 'hooks/use-querystring-param';\n\nconst categoryOptions = [\n  { value: 'apartment', text: 'Apartment' },\n  { value: 'house', text: 'House' },\n  { value: 'office', text: 'Office' },\n];\nconst typeOptions = [\n  { value: 'sell', text: 'Sell' },\n  { value: 'rent', text: 'Rent' },\n  { value: 'auction', text: 'Auction' },\n];\nconst rentTypeOptions = [\n  { value: 'yearly', text: 'Yearly' },\n  { value: 'monthly', text: 'Monthly' },\n  { value: 'weekly', text: 'Weekly' },\n  { value: 'daily', text: 'Daily' },\n];\n\nconst resetPage = {\n  page: undefined,\n};\n\nexport default function BuildingToolbar() {\n  const [category, setCategory] = useQuerystringParam('category', resetPage);\n  const [type, setType] = useQuerystringParam('type', resetPage);\n  const [rentType, setRentType] = useQuerystringParam('rent_type', resetPage);\n\n  return (\n    <>\n      <Menu.Item fitted>\n        <Dropdown\n          placeholder=\"Select category\"\n          clearable\n          selection\n          value={category}\n          options={categoryOptions}\n          onChange={(event, data) => setCategory(data.value)}\n        />\n      </Menu.Item>\n      <Menu.Item fitted>\n        <Dropdown\n          placeholder=\"Select type\"\n          clearable\n          selection\n          value={type}\n          options={typeOptions}\n          onChange={(event, data) => setType(data.value)}\n        />\n      </Menu.Item>\n      {type === 'rent' && (\n        <Menu.Item fitted>\n          <Dropdown\n            placeholder=\"Select rent type\"\n            clearable\n            selection\n            fluid\n            value={rentType}\n            options={rentTypeOptions}\n            onChange={(event, data) => setRentType(data.value)}\n          />\n        </Menu.Item>\n      )}\n    </>\n  );\n}\n","import { useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { Button, Menu, Message } from 'semantic-ui-react';\nimport { returnToHomeClicked } from 'store/actions';\nimport BuildingToolbar from './BuildingToolbar';\n\nexport default function Header(props) {\n  const dispatch = useDispatch();\n  const onReturnClick = useCallback(() => dispatch(returnToHomeClicked()), [\n    dispatch,\n  ]);\n\n  return (\n    <>\n      <Menu secondary>\n        <Menu.Item fitted>\n          <Button\n            content=\"Return\"\n            icon=\"left arrow\"\n            labelPosition=\"left\"\n            onClick={onReturnClick}\n          />\n        </Menu.Item>\n\n        <BuildingToolbar />\n      </Menu>\n\n      <Message info>\n        <p>\n          Data might be inaccurate. Some people provide wrong locations for\n          their classifieds.\n        </p>\n      </Message>\n    </>\n  );\n}\n\nHeader.propTypes = {};\n","import React from 'react';\nimport Skeleton from 'react-loading-skeleton';\nimport { Dimmer, Loader, Message, Segment } from 'semantic-ui-react';\nimport useActiveBuilding from 'hooks/api/use-active-building';\nimport BuildingTable from './components/BuildingTable';\nimport Header from './components/Header';\n\nfunction Body() {\n  const { data: activeBuilding, error, loading } = useActiveBuilding();\n\n  if (loading) {\n    return (\n      <Segment basic>\n        <Dimmer inverted active>\n          <Loader content=\"Loading the building data..\" />\n        </Dimmer>\n        <Skeleton count={20} />\n      </Segment>\n    );\n  }\n\n  if (error) {\n    return (\n      <Message negative>\n        An unexpected error occured when attempting to fetch the data. Try again\n        later.\n      </Message>\n    );\n  }\n\n  if (!activeBuilding) {\n    return (\n      <Message warning>\n        <Message.Header>Building not found</Message.Header>\n        <p>We could not locate a building here. Try again later.</p>\n      </Message>\n    );\n  }\n\n  return <BuildingTable building={activeBuilding} />;\n}\n\nexport default function BuildingContainer() {\n  return (\n    <>\n      <Header />\n      <Body />\n    </>\n  );\n}\n","import Building from './Building';\n\nexport default Building;\n","import Bugsnag from '@bugsnag/js';\nimport BugsnagPluginReact from '@bugsnag/plugin-react';\n\nBugsnag.start({\n  releaseStage: process.env.NODE_ENV,\n  enabledReleaseStages: ['production'],\n  apiKey: process.env.REACT_APP_BUGSNAG_KEY,\n  plugins: [new BugsnagPluginReact()],\n  collectUserIp: false,\n});\n\nexport default Bugsnag;\n","import { riga } from '@brokalys/location-json-schemas';\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Dropdown, Menu } from 'semantic-ui-react';\nimport { transliterate } from 'transliteration';\nimport { setNeighborhoodFilters, setSelectedNeighborhood } from 'store/actions';\nimport {\n  neighborhoodFilterSelector,\n  selectedNeighborhoodSelector,\n} from 'store/selectors';\nimport styles from './FilterToolbar.module.css';\n\nconst locationOptions = riga.features.map((row) => ({\n  value: row.properties.id,\n  text: row.properties.name,\n}));\n\nconst categoryOptions = [\n  { value: 'apartment', text: 'Apartment' },\n  { value: 'house', text: 'House' },\n  { value: 'land', text: 'Land' },\n];\nconst typeOptions = [\n  { value: 'sell', text: 'Sell' },\n  { value: 'rent', text: 'Rent' },\n];\nconst priceTypeOptions = [\n  { value: 'total', text: 'Total price' },\n  { value: 'sqm', text: 'Price/sqm' },\n];\n\nfunction FilterToolbar() {\n  const dispatch = useDispatch();\n  const { category, type, price } = useSelector(neighborhoodFilterSelector);\n  const { id: neighborhood } = useSelector(selectedNeighborhoodSelector);\n\n  /**\n   * Improved search operation to ignore all UTF-8 characters.\n   */\n  function onSearch(all, selected) {\n    const regexp = new RegExp(\n      transliterate(selected).replace(/[^a-z\\s-]/gi, ''),\n      'i',\n    );\n    return all.filter((row) => regexp.test(transliterate(row.text)));\n  }\n\n  return (\n    <div className={styles.container}>\n      <Menu secondary>\n        <Menu.Item fitted>\n          <Dropdown\n            placeholder=\"Select location\"\n            search={onSearch}\n            selection\n            options={locationOptions}\n            value={neighborhood}\n            onChange={(event, data) =>\n              dispatch(setSelectedNeighborhood(data.value))\n            }\n          />\n        </Menu.Item>\n        <Menu.Item fitted className={styles.categoryDropdown}>\n          <Dropdown\n            placeholder=\"Select category\"\n            fluid\n            selection\n            value={category}\n            options={categoryOptions}\n            onChange={(event, data) =>\n              dispatch(setNeighborhoodFilters({ category: data.value }))\n            }\n          />\n        </Menu.Item>\n        <Menu.Item fitted>\n          <Dropdown\n            placeholder=\"Select type\"\n            fluid\n            selection\n            value={type}\n            options={typeOptions}\n            onChange={(event, data) =>\n              dispatch(setNeighborhoodFilters({ type: data.value }))\n            }\n          />\n        </Menu.Item>\n\n        <Menu.Item fitted>\n          <Dropdown\n            placeholder=\"Select price type\"\n            fluid\n            selection\n            value={price}\n            options={priceTypeOptions}\n            onChange={(event, data) =>\n              dispatch(setNeighborhoodFilters({ price: data.value }))\n            }\n          />\n        </Menu.Item>\n      </Menu>\n    </div>\n  );\n}\n\nexport default FilterToolbar;\n","import FilterToolbar from './FilterToolbar';\n\nexport default FilterToolbar;\n","import { gql, useQuery } from '@apollo/client';\nimport { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  neighborhoodFilterSelector,\n  selectedNeighborhoodSelector,\n} from 'store/selectors';\n\nconst query = gql`\n  query($filters: String!) {\n    response(filters: $filters)\n      @rest(\n        type: \"PriceResults\"\n        method: \"GET\"\n        path: \"/stats/monthly?discard=0.1&filters={args.filters}\"\n      ) {\n      loadingResults\n      results {\n        count\n        start_datetime\n        end_datetime\n        price {\n          min\n          max\n          median\n          mean\n          mode\n        }\n        pricePerSqm {\n          min\n          max\n          median\n          mean\n          mode\n        }\n      }\n    }\n  }\n`;\nexport default function usePriceData(filterOverrides = {}) {\n  const [pollInterval, setPollInterval] = useState(0);\n  const { category, type } = useSelector(neighborhoodFilterSelector);\n  const { id } = useSelector(selectedNeighborhoodSelector);\n\n  const filters = {\n    category,\n    type,\n    location_classificator: id,\n    ...filterOverrides,\n  };\n  const filterStr = encodeURIComponent(JSON.stringify(filters));\n\n  const { data, loading, error } = useQuery(query, {\n    variables: {\n      filters: filterStr,\n    },\n    pollInterval,\n  });\n  const { loadingResults } = data?.response || {};\n\n  useEffect(() => {\n    setPollInterval(() => {\n      if (loadingResults === 0) {\n        return 0;\n      }\n\n      if (loadingResults <= 2) {\n        return 1000;\n      }\n\n      return 3000;\n    });\n  }, [loadingResults]);\n\n  return {\n    data: data?.response?.results || [],\n    loading: loading || loadingResults > 0,\n    error,\n  };\n}\n","import { area, curveMonotoneX } from 'd3-shape';\nimport { Defs } from '@nivo/core';\nimport React, { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Dimmer, Loader, Message, Segment } from 'semantic-ui-react';\nimport moment from 'moment';\nimport { ResponsiveLine } from '@nivo/line';\nimport { neighborhoodFilterSelector } from 'store/selectors';\nimport styles from './PropertyPriceChart.module.css';\nimport usePriceData from 'hooks/api/use-property-price-chart-data';\n\nfunction PropertyPriceChart({ results }) {\n  const { price: priceType } = useSelector(neighborhoodFilterSelector);\n\n  const data = useMemo(\n    () => [\n      {\n        id: 'Average Price',\n        data: results.map((row) => {\n          const prices = priceType === 'sqm' ? row.pricePerSqm : row.price;\n          return {\n            ...prices,\n\n            x: row.start_datetime.substr(0, 10),\n            y: prices.mean,\n          };\n        }),\n      },\n    ],\n    [results, priceType],\n  );\n\n  const maxPrice = data[0].data.reduce(\n    (carry, { max }) => (max > carry ? max : carry),\n    0,\n  );\n\n  function Price({ value }) {\n    return (\n      <span>\n        {Number(value).toLocaleString('en', {\n          minimumFractionDigits: 2,\n        })}{' '}\n        {priceType === 'sqm' ? (\n          <span>\n            €/m<sup>2</sup>\n          </span>\n        ) : (\n          '€'\n        )}\n      </span>\n    );\n  }\n\n  return (\n    <ResponsiveLine\n      data={data}\n      margin={{ top: 10, right: 10, bottom: 100, left: 50 }}\n      xScale={{\n        type: 'time',\n        format: '%Y-%m-%d',\n        precision: 'month',\n      }}\n      xFormat=\"time:%Y-%m-%d\"\n      yScale={{\n        type: 'linear',\n        stacked: false,\n        max: maxPrice * 1.05,\n      }}\n      sliceTooltip={({ slice }) => {\n        return (\n          <div className={styles.tooltip}>\n            {slice.points.map((point) => (\n              <div key={point.id}>\n                <div>\n                  <strong>{moment(point.data.x).format('YYYY-MM-DD')}</strong>\n                </div>\n                <div>\n                  <strong>Max:</strong> <Price value={point.data.max} />\n                </div>\n                <div>\n                  <strong>{point.serieId}:</strong>{' '}\n                  <Price value={point.data.yFormatted} />\n                </div>\n                <div>\n                  <strong>Min:</strong> <Price value={point.data.min} />\n                </div>\n                <hr />\n                <div>\n                  <strong>Mode:</strong> <Price value={point.data.mode} />\n                </div>\n                <div>\n                  <strong>Median:</strong> <Price value={point.data.median} />\n                </div>\n              </div>\n            ))}\n          </div>\n        );\n      }}\n      axisBottom={{\n        format: '%Y-%m',\n        tickValues: 'every 2 months',\n        tickRotation: -90,\n      }}\n      axisLeft={{\n        format: (value) => `${value} €`,\n      }}\n      enablePoints={true}\n      curve=\"monotoneX\"\n      useMesh={true}\n      enableSlices=\"x\"\n      layers={[\n        'grid',\n        'markers',\n        'axes',\n        'areas',\n        'crosshair',\n        AreaLayer,\n        'lines',\n        'points',\n        'slices',\n        'mesh',\n        'legends',\n      ]}\n    />\n  );\n}\n\nfunction PropertyPriceChartContainer() {\n  const { data, loading, error } = usePriceData();\n\n  if (loading) {\n    return (\n      <Dimmer inverted active>\n        <Loader />\n      </Dimmer>\n    );\n  }\n\n  if (error) {\n    return (\n      <Message negative>\n        Failed loading chart data. Please try again later.\n      </Message>\n    );\n  }\n\n  return <PropertyPriceChart results={data} />;\n}\n\nfunction AreaLayer({ series, xScale, yScale, innerHeight }) {\n  const areaGenerator = area()\n    .x((d) => xScale(d.data.x))\n    .y0((d) => yScale(d.data.min))\n    .y1((d) => yScale(d.data.max))\n    .curve(curveMonotoneX);\n\n  return (\n    <>\n      <Defs\n        defs={[\n          {\n            id: 'pattern',\n            type: 'patternLines',\n            background: 'transparent',\n            color: '#3daff7',\n            lineWidth: 1,\n            spacing: 6,\n            rotation: -45,\n          },\n        ]}\n      />\n      <path\n        d={areaGenerator(series[0].data)}\n        fill=\"url(#pattern)\"\n        fillOpacity={0.2}\n        stroke=\"#3daff7\"\n        strokeWidth={0.4}\n      />\n    </>\n  );\n}\n\nexport default function PropertyPriceChartWrapper() {\n  return (\n    <Segment basic className={styles.container}>\n      <PropertyPriceChartContainer />\n    </Segment>\n  );\n}\n","import PropertyPriceChart from './PropertyPriceChart';\n\nexport default PropertyPriceChart;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport Skeleton from 'react-loading-skeleton';\nimport { Icon, Popup, Statistic } from 'semantic-ui-react';\nimport usePriceData from 'hooks/api/use-property-price-mean-data';\nimport { neighborhoodFilterSelector } from 'store/selectors';\nimport styles from './MeanPriceInFilterLocation.module.css';\n\nfunction Description() {\n  return (\n    <>\n      <p>MoM: month-over-month</p>\n      <p>YoY: year-over-year</p>\n    </>\n  );\n}\n\nfunction MeanPriceInFilterLocation() {\n  const { price: priceType } = useSelector(neighborhoodFilterSelector);\n  const data = usePriceData();\n\n  const mean = data.price;\n  const momChange = data.change.mom;\n  const yoyChange = data.change.yoy;\n\n  return (\n    <>\n      <Statistic.Value>\n        <div className={styles.statisticAddon}>\n          {isFinite(momChange) && (\n            <div>\n              <span\n                className={momChange < 0 ? styles.textGreen : styles.textRed}\n              >\n                {momChange < 0 ? '+' : ''}\n                {-momChange.toFixed(2)}%\n              </span>{' '}\n              MoM\n            </div>\n          )}\n          {isFinite(yoyChange) && (\n            <div>\n              <span\n                className={yoyChange < 0 ? styles.textGreen : styles.textRed}\n              >\n                {yoyChange < 0 ? '+' : ''}\n                {-yoyChange.toFixed(2)}%\n              </span>{' '}\n              YoY\n            </div>\n          )}\n        </div>\n\n        {mean ? parseInt(mean, 10).toLocaleString('en') : '?'}\n      </Statistic.Value>\n      <Statistic.Label>\n        Average Price (€\n        {priceType === 'sqm' ? (\n          <span>\n            /m<sup>2</sup>\n          </span>\n        ) : (\n          ''\n        )}\n        ){' '}\n        <Popup\n          content={<Description />}\n          trigger={<Icon name=\"help circle\" />}\n        />\n      </Statistic.Label>\n    </>\n  );\n}\n\nfunction MeanPriceInFilterLocationContainer() {\n  return (\n    <Statistic>\n      <React.Suspense fallback={<Skeleton height={60} width={240} />}>\n        <MeanPriceInFilterLocation />\n      </React.Suspense>\n    </Statistic>\n  );\n}\n\nexport default MeanPriceInFilterLocationContainer;\n","import { useSelector } from 'react-redux';\nimport usePriceData from 'hooks/api/use-property-price-chart-data';\nimport { neighborhoodFilterSelector } from 'store/selectors';\n\nexport default function usePriceMeanData() {\n  const { price: priceType } = useSelector(neighborhoodFilterSelector);\n  const { data: results, loading } = usePriceData();\n\n  // Still loading..\n  if (loading > 0) {\n    return {\n      change: {},\n    };\n  }\n\n  const group = priceType === 'sqm' ? 'pricePerSqm' : 'price';\n\n  const {\n    [group]: { mean },\n  } = results[results.length - 1];\n\n  return {\n    price: mean,\n    change: {\n      mom: (1 - mean / results[results.length - 2][group].mean) * 100,\n      yoy: (1 - mean / results[results.length - 13][group].mean) * 100,\n    },\n  };\n}\n","import MeanPriceInFilterLocation from './MeanPriceInFilterLocation';\n\nexport default MeanPriceInFilterLocation;\n","import React from 'react';\nimport Skeleton from 'react-loading-skeleton';\nimport { Icon, Popup, Statistic } from 'semantic-ui-react';\nimport useRentalYield from 'hooks/api/use-rental-yield';\n\nfunction RentalYieldInFilterLocation() {\n  const data = useRentalYield();\n  const value = data ? `${data.toFixed(2)}%` : '?';\n\n  return <Statistic.Value>{value}</Statistic.Value>;\n}\n\nfunction Description() {\n  return (\n    <>\n      <p>\n        How much of the invested capital can I expect to make back each year?\n      </p>\n      <p>A bigger number is better for landlords; a smaller - for renters.</p>\n      <p>Calculation: average rent price / sell price in the last month</p>\n    </>\n  );\n}\n\nfunction RentalYieldInFilterLocationContainer() {\n  return (\n    <Statistic>\n      <React.Suspense fallback={<Skeleton height={42} />}>\n        <RentalYieldInFilterLocation />\n      </React.Suspense>\n      <Statistic.Label>\n        Rental Yield{' '}\n        <Popup\n          content={<Description />}\n          trigger={<Icon name=\"help circle\" />}\n        />\n      </Statistic.Label>\n    </Statistic>\n  );\n}\n\nexport default RentalYieldInFilterLocationContainer;\n","import { useSelector } from 'react-redux';\nimport usePriceData from 'hooks/api/use-property-price-chart-data';\nimport { neighborhoodFilterSelector } from 'store/selectors';\n\nexport default function useRentalYield() {\n  const { price: priceType } = useSelector(neighborhoodFilterSelector);\n  const { data: rentData } = usePriceData({ type: 'rent' });\n  const { data: sellData } = usePriceData({ type: 'sell' });\n\n  if (!rentData.length || !sellData.length) {\n    return 0;\n  }\n\n  const group = priceType === 'sqm' ? 'pricePerSqm' : 'price';\n\n  const { mean: rentMean } = rentData[rentData.length - 1][group];\n  const { mean: sellMean } = sellData[sellData.length - 1][group];\n\n  if (!rentMean || !sellMean) {\n    return 0;\n  }\n\n  return (rentMean / sellMean) * 100;\n}\n","import RentalYieldInFilterLocation from './RentalYieldInFilterLocation';\n\nexport default RentalYieldInFilterLocation;\n","import Home from './Home';\n\nexport default Home;\n","import { riga } from '@brokalys/location-json-schemas';\nimport Bugsnag from 'bugsnag';\nimport { ErrorBoundary } from 'react-error-boundary';\nimport { useSelector } from 'react-redux';\nimport { Grid, Header, Message, Statistic } from 'semantic-ui-react';\nimport FilterToolbar from 'components/FilterToolbar';\nimport PropertyPriceChart from 'components/PropertyPriceChart';\nimport MeanPrice from 'components/Statistics/MeanPriceInFilterLocation';\nimport RentalYield from 'components/Statistics/RentalYieldInFilterLocation';\nimport { selectedNeighborhoodSelector } from 'store/selectors';\nimport styles from './Home.module.css';\n\nexport default function Home() {\n  const { id } = useSelector(selectedNeighborhoodSelector);\n  const locationName = riga.features.find((row) => row.properties.id === id)\n    .properties.name;\n\n  return (\n    <>\n      <div className={styles.content}>\n        <Header as=\"h2\">\n          Average Prices in{' '}\n          <span className={styles.highlightedText}>{locationName}</span>\n        </Header>\n\n        <FilterToolbar />\n        <PropertyPriceChart />\n\n        <Grid>\n          <Grid.Row>\n            <Grid.Column\n              tablet={16}\n              computer={16}\n              largeScreen={10}\n              widescreen={7}\n            >\n              <Header as=\"h3\">Last Month</Header>\n\n              <ErrorBoundary\n                fallback={\n                  <Message negative>\n                    Failed loading the data. Please try again later.\n                  </Message>\n                }\n                onError={Bugsnag.notify}\n              >\n                <Statistic.Group size=\"small\">\n                  <MeanPrice />\n                  <RentalYield />\n                </Statistic.Group>\n              </ErrorBoundary>\n            </Grid.Column>\n\n            <Grid.Column\n              tablet={16}\n              computer={16}\n              largeScreen={6}\n              widescreen={9}\n              verticalAlign=\"bottom\"\n              stretched\n            >\n              <Message\n                info\n                icon=\"info\"\n                header=\"Interested in a specific building?\"\n                content=\"Zoom in on the map and click on a building. This will show data about your selected property.\"\n              />\n            </Grid.Column>\n          </Grid.Row>\n        </Grid>\n      </div>\n    </>\n  );\n}\n","import Lottie from 'lottie-react';\nimport PropType from 'prop-types';\nimport { Container } from 'semantic-ui-react';\n\nexport default function ContentContainer(props) {\n  return (\n    <Container textAlign=\"center\">\n      <Lottie {...props.lottie} />\n      <div style={{ position: 'relative' }}>{props.children}</div>\n    </Container>\n  );\n}\n\nContentContainer.propTypes = {\n  lottie: PropType.shape({\n    className: PropType.string,\n    animationData: PropType.object.isRequired,\n    loop: PropType.bool,\n  }).isRequired,\n  children: PropType.node.isRequired,\n};\n","import * as geolib from 'geolib';\nimport { useDispatch } from 'react-redux';\nimport { Button, Message } from 'semantic-ui-react';\nimport useActiveRegionBuildings from 'hooks/use-active-region-buildings';\nimport useMapCenter from 'hooks/use-map-center';\nimport * as actions from 'store/actions';\nimport loadingAnimationData from './animations/loading.json';\nimport notFoundAnimationData from './animations/not-found.json';\nimport successAnimationData from './animations/success.json';\nimport Container from './components/Container';\nimport styles from './LocateBuilding.module.css';\n\nfunction buildPolygon(bounds) {\n  return bounds.split(/,\\s?/).map((row) => {\n    const parts = row.split(' ');\n    return { latitude: parts[0], longitude: parts[1] };\n  });\n}\n\n/**\n * Locate the closest building.\n */\nfunction locateActiveBuilding(buildings, currentPosition) {\n  let locatedBuilding;\n  let minDistance = Infinity;\n\n  // Find the building closest to current position\n  buildings.forEach((building) => {\n    const distance = geolib.getDistance(\n      currentPosition,\n      geolib.getCenter(buildPolygon(building.bounds)),\n    );\n\n    if (distance < minDistance) {\n      minDistance = distance;\n      locatedBuilding = building;\n    }\n  });\n\n  return locatedBuilding;\n}\n\nexport default function LocateBuilding() {\n  const { data: buildings, loading, error } = useActiveRegionBuildings();\n\n  if (loading) {\n    return (\n      <Container\n        lottie={{\n          className: styles.loadingAnimation,\n          animationData: loadingAnimationData,\n        }}\n      >\n        <p>\n          <strong>Loading</strong> the historical data for this property... Hang\n          tight!\n        </p>\n      </Container>\n    );\n  }\n\n  if (error) {\n    return (\n      <Message negative>\n        An unexpected error occured when attempting to fetch the data. Try again\n        later.\n      </Message>\n    );\n  }\n\n  return <BuildingsLoaded buildings={buildings} />;\n}\n\nfunction BuildingsLoaded({ buildings }) {\n  const dispatch = useDispatch();\n  const { lat, lng } = useMapCenter();\n  const locatedBuilding = locateActiveBuilding(buildings || [], {\n    latitude: lat,\n    longitude: lng,\n  });\n  const onButtonClick = () => {\n    dispatch(actions.clickOnBuilding(locatedBuilding.id));\n  };\n  const onReturnHomeButtonClick = () => {\n    dispatch(actions.returnToHomeClicked());\n  };\n\n  if (!locatedBuilding || locatedBuilding.properties.results.length === 0) {\n    return (\n      <Container\n        lottie={{\n          className: styles.notFoundAnimation,\n          animationData: notFoundAnimationData,\n          loop: false,\n        }}\n      >\n        <p>Could not match the classified with a specific building.</p>\n        <Button primary onClick={onReturnHomeButtonClick}>\n          Return home\n        </Button>\n      </Container>\n    );\n  }\n\n  return (\n    <Container\n      lottie={{\n        className: styles.successAnimation,\n        animationData: successAnimationData,\n        loop: false,\n      }}\n    >\n      <p>\n        A building has been found! Click below to see the historical prices for\n        this building.\n      </p>\n      <Button primary onClick={onButtonClick}>\n        Open\n      </Button>\n    </Container>\n  );\n}\n","import React from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport GithubCorner from 'react-github-corner';\nimport { Container, Grid } from 'semantic-ui-react';\nimport Footer from 'components/Footer';\nimport Navigation from 'components/Navigation';\nimport SplitPaneRight from 'containers/SplitPaneRight';\nimport Building from 'pages/Building';\nimport Home from 'pages/Home';\nimport LocateBuilding from 'pages/LocateBuilding';\nimport styles from './App.module.css';\n\nfunction App(props) {\n  return (\n    <>\n      <Container fluid className={styles.container}>\n        <GithubCorner\n          className={styles.githubCorner}\n          href=\"https://github.com/brokalys/map-app\"\n          direction=\"left\"\n        />\n        <Switch>\n          <Route\n            path={[\n              '/:lat,:lng,:zoom/building/:buildingId(\\\\d+)',\n              '/:lat,:lng,:zoom/locate-building',\n              '/:lat,:lng,:zoom',\n              '/',\n            ]}\n          >\n            <Grid className={styles.grid}>\n              <Grid.Column computer={9} className={styles.leftPanel}>\n                <Navigation />\n\n                <Switch>\n                  <Route path=\"/:lat,:lng,:zoom/building/:buildingId(\\d+)\">\n                    <Building />\n                  </Route>\n\n                  <Route path=\"/:lat,:lng,:zoom/locate-building\">\n                    <LocateBuilding />\n                  </Route>\n\n                  <Route path=\"*\">\n                    <Home />\n                  </Route>\n                </Switch>\n              </Grid.Column>\n              <Grid.Column computer={7} className={styles.rightPanel}>\n                <SplitPaneRight />\n              </Grid.Column>\n            </Grid>\n          </Route>\n        </Switch>\n      </Container>\n\n      <Footer />\n    </>\n  );\n}\n\nexport default App;\n","import { MAP_PROJECTION_CHANGED } from '../actionTypes';\n\nconst initialState = {\n  bounds: {},\n};\n\nexport default function mapReducer(state = initialState, action) {\n  switch (action.type) {\n    case MAP_PROJECTION_CHANGED: {\n      const { payload: map } = action;\n      const bounds = {\n        nw: {\n          lat: map.getBounds().getSouthWest().lat(),\n          lng: map.getBounds().getNorthEast().lng(),\n        },\n        ne: {\n          lat: map.getBounds().getNorthEast().lat(),\n          lng: map.getBounds().getNorthEast().lng(),\n        },\n\n        sw: {\n          lat: map.getBounds().getSouthWest().lat(),\n          lng: map.getBounds().getSouthWest().lng(),\n        },\n        se: {\n          lat: map.getBounds().getNorthEast().lat(),\n          lng: map.getBounds().getSouthWest().lng(),\n        },\n      };\n\n      return {\n        ...state,\n        bounds,\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n","import {\n  SET_NEIGHBORHOOD_FILTERS,\n  SET_SELECTED_NEIGHBORHOOD,\n} from '../actionTypes';\n\nconst initialState = {\n  selected: 'latvia-riga-vecpilseta',\n  filters: {\n    category: 'apartment',\n    type: 'sell',\n    price: 'sqm',\n  },\n};\n\nexport default function neighborhoodReducer(state = initialState, action) {\n  switch (action.type) {\n    case SET_SELECTED_NEIGHBORHOOD: {\n      return {\n        ...state,\n        selected: action.payload,\n      };\n    }\n\n    case SET_NEIGHBORHOOD_FILTERS: {\n      return {\n        ...state,\n        filters: {\n          ...state.filters,\n          ...action.payload,\n        },\n      };\n    }\n\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\nimport map from './map';\nimport neighborhood from './neighborhood';\n\nconst createRootReducer = (history) =>\n  combineReducers({\n    router: connectRouter(history),\n    map,\n    neighborhood,\n  });\n\nexport default createRootReducer;\n","import { put, select, takeLatest } from 'redux-saga/effects';\nimport { push } from 'connected-react-router';\nimport { RETURN_TO_HOME_CLICKED } from 'store/actionTypes';\nimport { locationPathnameSelector } from 'store/selectors';\n\nfunction* goHome() {\n  const path = yield select(locationPathnameSelector);\n  const parts = path.split('/');\n\n  yield put(push(`/${parts[1]}`));\n}\n\nfunction* saga() {\n  yield takeLatest(RETURN_TO_HOME_CLICKED, goHome);\n}\n\nexport default saga;\n","import { put, select, takeEvery } from 'redux-saga/effects';\nimport { replace } from 'connected-react-router';\nimport { SET_SELECTED_NEIGHBORHOOD } from 'store/actionTypes';\nimport { selectedNeighborhoodSelector } from 'store/selectors';\n\nfunction getCenterCoords(arr) {\n  const coords = arr.reduce(\n    (x, y) => [x[0] + y[0] / arr.length, x[1] + y[1] / arr.length],\n    [0, 0],\n  );\n\n  return { lat: coords[1], lng: coords[0] };\n}\n\nfunction* setHighlightedRegion(action) {\n  const { region } = yield select(selectedNeighborhoodSelector);\n  const { lat, lng } = getCenterCoords(region[0]);\n  yield put(replace(`/${lat},${lng},13`));\n}\n\nfunction* saga() {\n  yield takeEvery(SET_SELECTED_NEIGHBORHOOD, setHighlightedRegion);\n}\n\nexport default saga;\n","import { push } from 'connected-react-router';\nimport queryString from 'query-string';\nimport { put, select, takeLatest } from 'redux-saga/effects';\nimport { CLICK_ON_BUILDING } from 'store/actionTypes';\nimport {\n  locationPathnameSelector,\n  locationQuerySelector,\n} from 'store/selectors';\n\nfunction* setActiveBuilding({ payload: buildingId }) {\n  const path = yield select(locationPathnameSelector);\n  const parts = path.split('/');\n  let url = `/${parts[1]}/building/${buildingId}`;\n\n  if (parts[2] === 'building' && parts[3] === String(buildingId)) {\n    url = `/${parts[1]}`;\n  }\n\n  const query = yield select(locationQuerySelector);\n  const qs = queryString.stringify(\n    { ...query, page: undefined },\n    { skipEmptyString: true },\n  );\n\n  yield put(push(`${url}?${qs}`));\n}\n\nfunction* saga() {\n  yield takeLatest(CLICK_ON_BUILDING, setActiveBuilding);\n}\n\nexport default saga;\n","import { put, select, takeLatest } from 'redux-saga/effects';\nimport { replace } from 'connected-react-router';\nimport { MAP_BOUNDS_CHANGED } from 'store/actionTypes';\nimport {\n  locationPathnameSelector,\n  locationSearchSelector,\n} from 'store/selectors';\n\nfunction* setMapCenter({ payload: map }) {\n  const zoom = map.getZoom();\n  const currentPath = yield select(locationPathnameSelector);\n  const search = yield select(locationSearchSelector);\n  const parts = currentPath.split('/');\n\n  let newPath = `/${map.center.lat()},${map.center.lng()},${zoom}`;\n  if (parts[2] === 'building' && zoom > 14) {\n    newPath += `/building/${parts[3]}`;\n  }\n\n  if (newPath === currentPath) return;\n\n  yield put(replace(newPath + search));\n}\n\nfunction* saga() {\n  yield takeLatest(MAP_BOUNDS_CHANGED, setMapCenter);\n}\n\nexport default saga;\n","import { put, takeLatest } from 'redux-saga/effects';\nimport { MAP_BOUNDS_CHANGED } from 'store/actionTypes';\nimport { mapProjectionChanged } from 'store/actions';\n\nfunction* updateMapBounds({ payload }) {\n  yield put(mapProjectionChanged(payload));\n}\n\nfunction* saga() {\n  yield takeLatest(MAP_BOUNDS_CHANGED, updateMapBounds);\n}\n\nexport default saga;\n","import { all } from 'redux-saga/effects';\nimport goHome from './go-home';\nimport mapCenterOnNeighborhood from './map-center-on-neighborhood';\nimport setActiveBuilding from './set-active-building';\nimport setMapCenter from './set-map-center';\nimport updateMapBounds from './update-map-bounds';\n\nexport default function* rootSaga() {\n  yield all([\n    goHome(),\n    mapCenterOnNeighborhood(),\n    setActiveBuilding(),\n    setMapCenter(),\n    updateMapBounds(),\n  ]);\n}\n","import { routerMiddleware } from 'connected-react-router';\nimport { createHashHistory } from 'history';\nimport { applyMiddleware, createStore } from 'redux';\nimport { composeWithDevTools } from 'redux-devtools-extension/developmentOnly';\nimport createSagaMiddleware from 'redux-saga';\nimport createRootReducer from './reducers';\nimport rootSaga from './sagas';\n\nexport const history = createHashHistory({\n  hashType: 'slash',\n});\nconst sagaMiddleware = createSagaMiddleware();\n\nexport default createStore(\n  createRootReducer(history),\n  composeWithDevTools(\n    applyMiddleware(routerMiddleware(history), sagaMiddleware),\n  ),\n);\n\nsagaMiddleware.run(rootSaga);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA',\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.',\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import { ConnectedRouter } from 'connected-react-router';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { ApolloProvider } from '@apollo/client';\nimport client from './apollo-client';\nimport App from './App.jsx';\nimport Bugsnag from './bugsnag';\nimport store, { history } from './store';\nimport * as serviceWorker from './serviceWorker';\nimport 'semantic-ui-css/semantic.min.css';\nimport './index.css';\n\nconst ErrorBoundary = Bugsnag.getPlugin('react').createErrorBoundary(React);\n\nReactDOM.render(\n  <ErrorBoundary>\n    <Provider store={store}>\n      <ConnectedRouter history={history}>\n        <ApolloProvider client={client}>\n          <App />\n        </ApolloProvider>\n      </ConnectedRouter>\n    </Provider>\n  </ErrorBoundary>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}